* {box-sizing: border-box;}

.container { display: flex; flex-direction: row;}

.container > div { padding: 5px; }

@media (max-width:400px) {
    .container { flex-direction: column; }
}

.item1 {
    background-color: yellow; border: 2px solid black; flex-grow: 1;
}
.item2 {
    background-color: orange; border: 2px solid black; flex-grow: 1;
}
.item3 {
    background-color: violet; border: 2px solid black; flex-grow: 1;
}